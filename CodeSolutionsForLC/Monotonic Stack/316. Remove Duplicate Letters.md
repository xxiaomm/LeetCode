
### Link

https://leetcode.com/problems/remove-duplicate-letters/

### Clarifications / Constraints

1. 

### Idea_1

1. Monotonic Stack


#### Code

```java
// 先统计次数 / set -> 和lc402思路一样
// 单调递增栈, 递增的话字典序更小
//"cbacdcbc", "abacb", "cbacdcabcd"
class Solution {
    public String removeDuplicateLetters(String s) {
        int[] lastIndex = new int[26];
        for (int i = 0; i < s.length(); i++){
            lastIndex[s.charAt(i) - 'a'] = i; // track the lastIndex of ch
        }
        // Initial: false;
        boolean[] seen = new boolean[26]; // keep track seen
        Stack<Integer> st = new Stack();
        // System.out.println(seen[0]);
        for (int i = 0; i < s.length(); i++) {
            int curr = s.charAt(i) - 'a';
            if (seen[curr]) continue; // if seen continue as we need to pick one char only
            while (!st.isEmpty() && st.peek() > curr && i < lastIndex[st.peek()]){
                seen[st.pop()] = false; // pop out and mark unseen
            }
            st.push(curr); // add into stack
            seen[curr] = true; // mark seen
        }

        StringBuilder sb = new StringBuilder();
        while (!st.isEmpty())
            sb.append((char) (st.pop() + 'a'));
        return sb.reverse().toString();
    }
}

```

#### Complexity

Time complexity : O(N).    
Although there is a loop inside a loop, the time complexity is still O(N). This is because the inner while loop is bounded by the total number of elements added to the stack (each time it fires an element goes). This means that the total amount of time spent in the inner loop is bounded by O(N), giving us a total time complexity of O(N).

Space complexity : O(1).    
At first glance it looks like this is O(N), but that is not true! seen will only contain unique elements, so it's bounded by the number of characters in the alphabet (a constant). You can only add to stack if an element has not been seen, so stack also only consists of unique elements. This means that both stack and seen are bounded by constant, giving us O(1) space complexity.

